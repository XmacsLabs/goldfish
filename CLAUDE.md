# Claude Code 工作规则

## Adhoc测试规则
在做adhoc测试时，不使用echo命令，也不使用 bin/goldfish -e，而是：
1. 将测试内容写入 /tmp 目录下的临时文件（文件名应该随机生成）
2. 使用 bin/goldfish /tmp/xyz.scm 的方式执行测试

## 代码格式规范
- 使用空格进行缩进，而不是制表符
- 建议缩进宽度为2个空格
- 使用 `bin/lint` 检测代码中的括号是否匹配

## 创建代码合并请求的方法
1. 使用 `git push -u origin 分支名` 推送代码
2. 在 git push 的输出中会显示创建 PR 的链接，例如：
   ```
   remote: Create a pull request for '分支名' on Gitee by visiting:
   remote: https://gitee.com/XmacsLabs/goldfish/pull/new/XmacsLabs:分支名...XmacsLabs:main
   ```
3. 点击或访问该链接即可创建合并请求

## 交流语言规范
- 默认使用中文与 Claude 进行交流
- 如用户输入其他语言（如英文），可临时使用该语言进行交流

## 其他规则
[待补充]

## 任务执行规则
1. **方案讨论优先**：对于任何非微小的代码改动，都必须先讨论实现方案和具体方法，经用户确认后再开始实施
2. **测试驱动开发**：采用测试驱动开发(TDD)方法，先撰写单元测试，与用户确认测试用例正确性，然后再开始实现功能
3. **任务拆分引导**：如果任务过于复杂或庞大，应该引导用户将任务拆分成更小、可管理的子任务
4. **渐进式实施**：优先采用小步快跑的方式，先实现核心功能，再逐步完善细节
5. **保持沟通**：在实施过程中，如有任何需要决策的点，都应该及时与用户沟通确认

## 代码提交规则
1. **提交信息格式**：代码提交信息使用单行即可，格式简洁明了
2. **详细信息位置**：更多详细信息放在 `devel/任务编号.md` 文件中，如 `devel/200_15.md`
3. **提交信息示例**：`git commit -m "将多行注释后置处理迁移到 pretty-print.scm"

