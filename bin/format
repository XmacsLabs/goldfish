#!/usr/bin/env elvish

if (== (count $args) 0) {
  # Show usage and default behavior
  echo "Usage: bin/format [path1 path2 ...]"
  echo ""
  bin/goldfish tools/format.scm -i goldfish/liii/alist.scm
  bin/goldfish tools/format.scm -i goldfish/liii/argparse.scm
  bin/goldfish tools/format.scm -i goldfish/liii/base64.scm
  bin/goldfish tools/format.scm -i goldfish/liii/bitwise.scm
  bin/goldfish tools/format.scm -i goldfish/liii/chez.scm
  bin/goldfish tools/format.scm -i goldfish/liii/comparator.scm
  bin/goldfish tools/format.scm -i goldfish/liii/error.scm
  bin/goldfish tools/format.scm -i goldfish/srfi/srfi-1.scm
  bin/goldfish tools/format.scm -i goldfish/srfi/srfi-13.scm
  bin/goldfish tools/format.scm -i goldfish/srfi/srfi-125.scm
  bin/goldfish tools/format.scm -i goldfish/srfi/srfi-128.scm
  bin/goldfish tools/format.scm -i goldfish/srfi/srfi-133.scm
  bin/goldfish tools/format.scm -i goldfish/srfi/srfi-151.scm
  bin/goldfish tools/format.scm -i tests/goldfish/liii/base64-test.scm
} else {
  # Format each file (all arguments are file paths)
  for file $args {
    echo "Formatting: " $file
    bin/goldfish tools/format.scm -i $file
  }
}

