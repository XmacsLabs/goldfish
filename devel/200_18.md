# [200_18] Goldfish CI 自动打包

## 任务相关的代码文件
- `xmake.lua`
- `.github/workflows/package.yml`

## 如何测试

检查 GitHub action 仪表盘，能够看到执行成功，且 artifact 被上传。

## 2025-10-23 新增 package.yml workflow

### What

实现 deb 的自动打包。

TODO:
1. 由于 xpack 的 add_targets 并不受 xmake config 设置的值影响，使用 sed CI 时替换，若有解决方案在此编号下继续更新。
2. rpm(srpm) 没有被成功打包，由于一些环境问题，rpmbuild 无法找到依赖项目。后续继续在 `package.yml` 修复即可。

### Why

方便内部使用，[dogfooding](https://en.wikipedia.org/wiki/Eating_your_own_dog_food)。

### How

通过 xmake 的 xpack 描述打包，在 GitHub Action，每次 main 分支被 push 时候触发。

