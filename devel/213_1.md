# [213_1] (srfi srfi-175) 模块实现

## 任务相关的代码文件
+ goldfish/srfi/srfi-175.scm
+ tests/goldfish/liii/timeit-test.scm

## 如何测试

```bash
xmake config --yes
xmake b goldfish
bin/goldfish tests/goldfish/srfi/srfi-175-test.scm
```



## 2026/02/21 (srfi srfi-175) 模块实现

### What

实现 (srfi srfi-175) 模块，专用于处理 ASCII 字符集。

1. 创建 `tests/goldfish/srfi/srfi-175-test.scm` 测试文件

2. 创建 `goldfish/srfi/srfi-175.scm` 实现文件

3. 实现 `ensure-int` 辅助函数，接受一个 char 或者 int 类型的参数，srfi-175 通过此函数实现对 char int 两种类型输入的适配

4. 实现 `base-offset-limit` 辅助函数，用于计算字符值的映射，接受四个参数： `x` 、`base` 、`offset` 、`limit` ：

   + 参数 `x` 允许是 char 或者 int ，是将要被映射的字符值

   + 参数 `base` 是区间下界

   + 参数 `offset` 是偏移值
   + 参数 `limit` 是区间长度，即 `base` + `limit` 为区间上界

5. 实现 `char->int->char` 辅助函数，用于将 char 类型的值以 int 类型处理，将处理后的 int 值返回，接受两个参数：`map-int` 、`char` ：

   + 参数 `map-int` 是将要被调用的函数，接受 `char` 作为参数
   + 参数 `char` 是将要被处理的字符值

6. 实现 `ascii-codepoint? / ascii-char? / ascii-bytevector? / ascii-string?` ，

   用于判断字符/整数是否属于ASCII码点范围，以及字节向量、字符串是否完全由ASCII内容构成

7. 实现 `ascii-control? / ascii-non-control? / ascii-whitespace? / ascii-space-or-tab?

   ascii-other-graphic? / ascii-upper-case? / ascii-lower-case?

   ascii-alphabetic? / ascii-alphanumeric? / ascii-numeric?`，

   用于根据 ASCII 子类对输入做布尔判定，包括控制字符、空白、字母、数字与其他可见符号

8. 实现 `ascii-digit-value / ascii-upper-case-value / ascii-lower-case-value

   ascii-nth-digit / ascii-nth-upper-case / ascii-nth-lower-case`，

   用于在字符与数值语义之间转换

9. 实现 `ascii-upcase / ascii-downcase / ascii-control->graphic

   ascii-graphic->control / ascii-mirror-bracket`，

   用于处理 ASCII 规则下的字符变换，包括大小写折叠、控制字符与图形字符互转、括号镜像

10. 实现 `ascii-ci=? / ascii-ci<? / ascii-ci>? / ascii-ci<=? / ascii-ci>=?

    ascii-string-ci=? / ascii-string-ci<? / ascii-string-ci>?

    ascii-string-ci<=? / ascii-string-ci>=?`，

    用于进行大小写无关的比较语义，覆盖了单字符与字符串的相等性和顺序关系

### Why

提供标准化的 ASCII 判定、映射与大小写无关比较工具，方便在协议解析、文本格式处理等场景中使用可预期、低复杂度的字符语义。

### How

基于 SRFI-175 的过程集合逐项实现，并通过 `ensure-int`、`base-offset-limit`、`char->int->char` 三个辅助函数统一 char/int 两类输入与映射逻辑；采用测试驱动开发方式，先完善 `tests/goldfish/srfi/srfi-175-test.scm`，再补齐模块实现并用 `bin/goldfish` 执行测试验证行为一致性。
