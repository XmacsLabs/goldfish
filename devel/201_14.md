# [201_14] (liii stack) 的测试和文档

## 任务相关的代码文件
- goldfish/liii/stack.scm
- tests/goldfish/liii/stack-test.scm

## 如何测试
```
xmake config --yes
xmake b goldfish
bin/goldfish tools/lint.scm tests/goldfish/liii/stack-test.scm
bin/goldfish -m r7rs tests/goldfish/liii/stack-test.scm
```

## 测试验证规范
- 必须通过`bin/goldfish`完整执行
- 每个函数至少4个边界测试用例
- 异常类型用`check-catch`精确验证
- 嵌套结构验证输入输出一致性
- 测试用例不求多，需要精简一些

## PR提交规范
1. 每次提PR前先拉取最新代码：`git pull origin main`
2. 创建分支：`git checkout -b "$USER/201_14/xxx"` （如`da/201_14/stack-top`）

## 任务类型
stack中有静态方法，比如 stack@empty；有实例方法，比如 stack%top, stack%push, stack%pop 等。静态方法和实例方法在调用时，都是`:empty`, `:top`, `:push`, `:pop`这种形式的。

## 接口列表
### 静态方法
- `@empty`: 返回空栈

### 实例方法
- `%length`: 获取栈的长度(size)
- `%size`: 获取栈的长度(size)
- `%top`: 获取栈顶元素（栈空则报错）
- `%to-list`: 将栈转换为链表
- `%to-rich-list`: 将栈转换为 rich-list
- `%pop`: 弹出栈顶元素并返回新栈（栈空则报错）
- `%pop!`: 弹出栈顶元素并修改原栈（栈空则报错）
- `%push`: 将元素压入栈顶并返回新栈
- `%push!`: 将元素压入栈顶并修改原栈