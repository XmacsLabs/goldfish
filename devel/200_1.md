# 200_1

## 2026/1/19   Goldfish Scheme v17.11.24

### 📦 模块开源 / 重构
- `(liii json)` 开源并重构：不依赖 `define-class`，原`json`改名为 `rich-json`，新增对应测试
- `(liii either)` 开源并重构：实现方式调整,元`either`改名为 `rich-either`，新增对应测试

### 🧩 标准库 / SRFI
- 原 OO 版 `(liii set)` 改名为 `(liii rich-set)`；新增 SRFI-113 的 `(liii set)` 封装并补齐接口与测试
- SRFI-113：完整实现 set/bag（构造、查询、变换、集合运算、可变版本），新增 `(liii bag)` 与测试
- `hash-table` 增加 `hash-table-fold`
- SRFI-13：补齐 `string-index-right`、`string-skip`、`string-skip-right` 并扩展测试
- SRFI-267：实现 raw string 字面量，新增 `(liii raw-string)` 与 `deindent` 宏及测试

### 🌐 网络与依赖
- `(liii http)` 迁移自 liiischeme，基于 CPR；规范化响应 header 为小写并修复测试不稳定
- 引入 `3rdparty/cpr` 与 xmake 包描述，构建语言提升到 C++17

### 🧰 构建 / CI / 跨平台
- Windows：S7 `fopen` 支持 UTF-8 路径；修复 xmake 构建失败（`goldfish_repl_wasm` 依赖/平台限制）
- CI：xmake 版本更新到 v2.9.9，新增 deb 自动打包流程
- 修正 goldfish target 安装目录 `goldfish/guenchi`



## 2025/12/24  Goldfish Scheme v17.11.23

### 🔧 基础设施改进
- 新增md5 sha1和sha256的功能


## 2025/11/04 Goldfish Scheme v17.11.22

### 🚀 性能优化 (202系列)
**面向对象编程性能提升**
- 新增高性能的 `define-final-class`，相比 `define-case-class` 构造器性能提升20%
- `(liii option)` 模块从 `define-case-class` 切换到 `define-final-class`
- `rich-list` 切换到 `define-final-class`，并修复针对 `apply` 和 `equals` 的问题
- `define-case-class2` 支持实例方法相互调用
- 优化 `define-case-class` 构造时的性能问题

**性能测试工具**
- 新增 `(liii timeit)` 模块，实现 `timeit` 函数用于性能测试
- 移除容易失败的测试用例，提升测试稳定性

### 📚 文档完善 (209系列)
**面向对象编程文档**
- 为 `(liii oop)` 中的 `@` 函数添加文档
- 为 `typed-define` 添加文档和测试用例
- 为 `define-case-class` 新增文档
- 为 `define-object` 新增文档和测试用例
- 为 `define-class` 和 `case-class?` 新增文档和单元测试
- 为 `define-class` 添加 `%equals` 方法

### 🔧 基础设施 (210系列)
- 为 `define-constant` 新增文档和测试用例

这个版本主要聚焦于**面向对象编程性能优化、文档完善和测试工具增强**。

## 2025/10/29 Goldfish Scheme v17.11.21
### 🔧 基础设施改进
**代码格式化工具**
- 新增 `bin/goldfish tools/format.scm` 代码格式化工具
- 支持原地格式化 (-i 选项) 和保留空行
- 改进单行注释、多行注释的格式化处理

**开发工具增强**
- 使用 Python 重新实现 `bin/code` 开发环境启动脚本
- 修复文档测试命令，统一使用 `-m r7rs` 参数

**版本控制**
- 新增 pre-commit 钩子防止在 main 分支提交

### 🌐 Unicode 支持增强
**unicode 模块**
- 新建 `(liii unicode)` 模块
- 实现 UTF-16BE/UTF-16LE 编码转换功能
- 新增 `utf16be->utf8`、`utf8->utf16be`、`utf16le->utf8`、`utf8->utf16le` 等函数

### 🔄 功能增强
**字符处理**
- 实现 `char-foldcase` 函数
- 迁移 `char-whitespace?`、`char-alphabetic?`、`char-numeric?` 到 `(scheme char)`

这个版本主要聚焦于**工具链完善、Unicode支持和代码质量提升**。

## 2025/09/05 Goldfish Scheme v17.11.20

- **标准库新功能和增强**
  - 现在可以使用 *srfi-158* 标准中的生成器（Generators）和累加器（Accumulators） 来处理惰性序列和流式数据。
  - `(liii datetime)` 库变得更加实用，新增了获取星期几（weekday）、计算两个日期之间天数（days-between）以及日期类型转换（to-date）等功能。

- **开发者工具改进**
  - 初步实现了 lint 工具，现在可以自动检查代码中的括号是否匹配，有助于在运行前发现简单的语法错误。
  - 测试失败时，断言（check）现在会显示具体的行号和调用堆栈，使得定位和修复测试失败的原因变得更加容易。
  - REPL 输出优化：删除了执行结果前的冗余提示消息，便于插件实现。
  - 启动脚本优化：优化了 bin/code 开发环境启动脚本，更好地支持 Windows 系统，并改进了配置管理。

- 更少的神秘 Bug：函数的行为更加明确和可预测。
- 更好的文档：开发者更容易查阅和学习如何使用这些函数。


## 2025/08/05 Goldfish Scheme v17.11.19

- **REPL 相关功能增强**
  - 新增基于 isocline 的 REPL，支持历史记录、Tab 补全、value-history 等特性，提升交互体验。
  - Web 端 REPL 功能增强，支持更多交互和历史保存、导入导出分享。
  - 命令行参数解析（arg parse）增强，支持 `--repl` 强制进入 REPL，help 信息更完善。

- **补全与帮助**
  - 补全功能优化，补全项支持描述文本，补全时可显示帮助信息，提升开发效率。
  - 修复补全项分割错误，提升补全准确性。

- **平台兼容性提升**
  - 修复 Windows 平台下部分测试用例失败的问题，增强跨平台兼容性。

- **Nix 支持**
  - 初步支持 Nix flake，便于开发环境的统一和复现。

- **文档完善**
  - 完善了大量 Scheme 标准库函数（如 `string`、`symbol`、`char`、`number`、`boolean`、`bytevector` 等）的文档说明，便于用户查阅和学习。
  - 优化了 path 相关 API 的文档和测试，提升易用性和可靠性。

- **其它**
  - 删除旧的基于 GNU Readline 的本地 REPL，统一交互入口。
  - 优化 REPL 页面 UI 和交互体验。

## 2025/07/21 Goldfish Scheme v17.11.18
