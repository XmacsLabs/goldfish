````markdown
# [212_1] 修复 Windows 平台 xmake 构建失败问题

## 任务相关的代码文件
- xmake.lua

## 如何测试
```
xmake 
```

## 2026/1/22 修复 Windows 平台构建失败
### What
修复了在 Windows 平台上使用 xmake 构建 Goldfish Scheme 时出现的两个问题：

1. `goldfish_repl_wasm` target 缺少 `argh` 包依赖
2. `goldfish_repl_wasm` target 在非 WASM 平台上错误地尝试构建

### Why
**问题 1：缺少 argh 包依赖**
- `src/goldfish.hpp` 中包含了 `#include <argh.h>`
- `goldfish_repl_wasm` target 使用了 `goldfish.hpp`，但在 `xmake.lua` 中未声明对 `argh` 包的依赖
- 导致编译时报错：`fatal error C1083: 无法打开包括文件: "argh.h": No such file or directory`

**问题 2：平台限制错误**
- `goldfish_repl_wasm` 是专门为 WebAssembly 设计的 target
- 它只导出 C 函数接口（`eval_string`, `get_out`, `get_err`），没有 `main` 函数
- 在 Windows 等非 WASM 平台上构建时，链接器报错：`LINK : fatal error LNK1561: 必须定义入口点`

### How
1. 在 `goldfish_repl_wasm` target 的 `add_packages` 中添加 `"argh"` 依赖
2. 将整个 `goldfish_repl_wasm` target 包裹在 `if is_plat("wasm") then ... end` 条件中，确保只在 WASM 平台上构建