# [208_12] 实现 utf8->utf16le

## 任务相关的代码文件
- src/liii/unicode.scm
- tests/liii/unicode.scm

## 如何测试
```bash
xmake config --yes
xmake b goldfish
bin/goldfish tools/lint.scm goldfish/liii/unicode.scm
bin/goldfish tools/lint.scm tests/goldfish/liii/unicode-test.scm
bin/goldfish tests/goldfish/liii/unicode-test.scm
```

## 2025-10-20 实现 utf8->utf16le

### What
实现 `utf8->utf16le` 函数，用于将 UTF-8 编码的字节向量转换为 UTF-16LE 编码的字节向量。

1. 使用 `bytevector-advance-utf8` 遍历 UTF-8 字节向量
2. 在每次循环中：
   - 使用 `utf8->codepoint` 将 UTF-8 字节转换为 Unicode 码点
   - 使用 `codepoint->utf16le` 将码点转换为 UTF-16LE 字节向量
3. 将每次循环得到的 UTF-16LE 字节向量拼接起来，形成最终结果

### Why
需要提供 UTF-8 到 UTF-16LE 的编码转换功能，这是 Unicode 编码转换功能的重要组成部分。

### How
实现思路：
- 利用现有的 `bytevector-advance-utf8` 函数来遍历 UTF-8 字节向量
- 在遍历过程中，通过 `utf8->codepoint` 和 `codepoint->utf16le` 进行编码转换
- 使用字节向量拼接操作来构建最终的 UTF-16LE 结果
- 这种方法可以正确处理多字节的 UTF-8 字符和代理对（surrogate pairs）