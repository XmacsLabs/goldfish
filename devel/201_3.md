# [201_3] R7RS 的数字的文档和测试
## 所有的任务
### (scheme base)
+ [x] number?
+ [x] complex?
+ [x] real?
+ [x] rational?
+ [x] integer?
+ [x] exact?
+ [x] inexact?
+ [x] exact-integer?
+ [x] zero?
+ [x] positive?
+ [x] negative?
+ [x] odd?
+ [x] even?
+ [x] max
+ [x] min
+ [x] +
+ [x] -
+ [x] *
+ [x] /
+ [x] abs
+ [x] floor
+ [x] ceiling
+ [x] truncate
+ [x] round
+ [x] floor/
+ [x] floor-quotient
+ [x] floor-remainder
+ [ ] truncate/
+ [ ] truncate-quotient
+ [ ] truncate-remainder
+ [x] quotient
+ [x] remainder
+ [x] modulo
+ [x] gcd
+ [x] lcm
+ [x] numerator
+ [x] denominator
+ [x] rationalize
+ [x] square
+ [x] exact-integer-sqrt
+ [ ] expt
+ [ ] inexact
+ [ ] exact
+ [x] number->string
+ [x] string->number

### (scheme complex)
+ [ ] make-rectangular
+ [ ] make-polar
+ [x] real-part
+ [x] imag-part
+ [ ] magnitude
+ [ ] angle

### (scheme inexact)

+ [x] nan?
+ [x] sqrt
+ [x] finite?
+ [x] infinite?
+ [x] exp
+ [x] log
+ [x] log
+ [x] sin
+ [x] cos
+ [x] tan
+ [x] asin
+ [x] acos
+ [x] atan

## 任务相关的代码文件
(scheme base):
- goldfish/scheme/base.scm
- tests/goldfish/liii/base-test.scm

(scheme complex)
- goldfish/scheme/complex.scm
- tests/goldfish/scheme/complex-test.scm

(scheme inexact)
- goldfish/scheme/inexact.scm
- tests/goldfish/scheme/inexact-test.scm

## 如何测试
```
xmake config --yes
xmake b goldfish
# 检查所有相关文件的括号匹配
bin/lint goldfish/scheme/base.scm
bin/lint goldfish/scheme/complex.scm
bin/lint goldfish/scheme/inexact.scm
bin/lint tests/goldfish/liii/base-test.scm
bin/lint tests/goldfish/scheme/inexact-test.scm
bin/lint tests/goldfish/scheme/complex-test.scm
# 运行测试
bin/goldfish -m r7rs tests/goldfish/liii/base-test.scm
bin/goldfish -m r7rs tests/goldfish/scheme/inexact-test.scm
bin/goldfish -m r7rs tests/goldfish/scheme/complex-test.scm
```

## 2025/10/18 imag-part 函数测试和文档

### What
1. 为 imag-part 函数添加测试用例到 tests/goldfish/scheme/complex-test.scm
2. 为 imag-part 函数添加详细文档，包括函数签名、参数说明、行为特征、数学定义等
3. 运行测试确保 imag-part 函数正常工作

### Why
- imag-part 是复数操作的基本函数，用于获取复数的虚部
- 根据 R7RS 标准，imag-part 应该正确处理各种复数类型
- 为 imag-part 函数提供完整的测试覆盖和文档说明

### How
- 基于 real-part 的测试格式为 imag-part 函数撰写详细文档
- 测试用例覆盖复数构造、实数、浮点数和复数字面量等各种情况
- 确保所有测试通过，验证函数的正确性

## 2025/10/18 新增 (scheme complex) 库和 real-part 函数测试

### What
1. 创建 goldfish/scheme/complex.scm 库文件，使用 define-library 语法定义 (scheme complex) 库
2. 创建 tests/goldfish/scheme/complex-test.scm 测试文件，包含 real-part 函数的测试用例
3. 为 real-part 函数添加详细文档，包括函数签名、参数说明、行为特征、数学定义等
4. 更新 devel/201_3.md 文档结构，添加 (scheme complex) 分类和文件路径

### Why
- 根据 R7RS 标准，(scheme complex) 库应该包含复数相关函数
- 将复数相关函数从 (scheme base) 中分离出来，使库结构更清晰
- 为 real-part 函数提供完整的测试覆盖和文档说明

### How
- 使用 define-library 语法定义 (scheme complex) 库，导出所有复数相关函数
- 基于 unicode-test.scm 的格式为 real-part 函数撰写详细文档
- 测试用例覆盖复数构造、实数、浮点数和复数字面量等各种情况
- 确保所有测试通过，验证函数的正确性

## 2025/08/12 floor-remainder 文档和测试

添加 `floor-remainder` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/08/12 floor/ 文档和测试

添加 `floor/` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/08/12 / 文档和测试

添加 `/` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/08/08 zero? 文档和测试

添加 `zero?` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。


## 2025/08/08 sqrt 文档和测试
### What
添加 `sqrt` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/08/08 nan? 文档和测试
### What
添加 `nan?` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/08/08 exact-integer? 文档和测试
### What
添加 `exact-integer?` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/08/03 在macOS平台修复单元测试
### Why
`sin(1000)`的值在不同的macOS版本上不一样。

## 2025/08/04 在Windows上修复单元测试

## 2025/07/30 rationalize 文档和测试
### What
添加 rationalize 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/29 remainder 文档和测试
### What
添加 remainder 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 asin 文档和测试
### What
添加 asin 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 acos 文档和测试
### What
添加 acos 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 atan 文档和测试
### What
添加 atan 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 sin 文档和测试
### What
添加 sin 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 cos 文档和测试
### What
添加 cos 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 tan 文档和测试
### What
添加 tan 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 exp 文档和测试
### What
改进 exp 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 log 文档和测试
### What
改进 log 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/29 abs 文档和测试
### What
改进 abs 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/28 number->string 文档和测试
### What
改进 number->string 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/28 square 文档和测试
### What
改进 square 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/28 exact-integer-sqrt 文档和测试
### What
改进 exact-integer-sqrt 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/25 numerator 文档和测试
### What
改进 numerator 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/25 denominator 文档和测试
### What
改进 denominator 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/25 lcm 文档和测试
### What
改进 lcm 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/25 gcd 文档和测试
### What
改进 gcd 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/25 modulo 文档和测试
### What
改进 modulo 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/08/04 modulo 实现和测试
### What
在 goldfish/scheme/base.scm 的 187 行实现 modulo 函数，参考 lcm 的实现方式，包含 s7-modulo 包装和零除数检查。同时在 goldfish/liii/base.scm 中导出该函数。最后按照如何测试这一节运行单元测试验证功能。

## 2025/07/25 quotient 文档和测试
### What
改进 quotient 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试.

## 2025/07/23 floor-quotient文档和测试
### What
改进 floor-quotient 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/23 round 测试和文档
### What
改进 round 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/23 inexact? 文档和测试
### What
改进 inexact? 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

## 2025/07/23 * 文档

### What

`*` 用于计算所有给定数字的乘积。如果没有参数，则返回乘法单位元 1。

## 2025/07/23 exact? 文档

### What

`exact?` 用于判断一个数值是否为精确值。

## 2025/07/22 truncate文档

`truncate`用于返回靠近零的方向上最靠近给定数的整数，即正数向下取整，负数向上取整，如果参数中存在不精确值，返回值也是不精确的，否则返回值是精确的。
添加了错误测试

## 2025/07/22 ceiling文档
`ceiling`用于返回不小于给定实数的最小整数，如果参数中存在不精确值，返回值也是不精确的，否则返回值是精确的。
添加了错误测试

## 2025/07/22 floor文档

`floor`用于返回不大于给定实数的最大整数，如果参数中存在不精确值，返回值也是不精确的，否则返回值是精确的。
添加了错误测试

## 2025/07/22 min文档

`min`用于返回所有给定实数的最小值，如果存在NaN，返回NaN。如果参数中存在不精确值，返回值也是不精确的，否则返回值是精确的。
并删除了部分重复测试，添加了混合参数情况下的测试。

## 2025/07/22 max文档

`max`用于返回所有给定实数的最大值，如果存在NaN，返回NaN。如果参数中存在不精确值，返回值也是不精确的，否则返回值是精确的。
并删除了部分重复测试，添加了混合参数情况下的测试。

## 2025/07/22 even？文档

### What

`even?`用于判断一个整数是否为偶数

## 2025/07/22 odd？文档

### What

`odd?`用于判断一个整数是否为奇数

## 2025/07/21 negative？文档

### What

`negative?`用于判断一个实数是否为负数

## 2025/07/21 positive?文档

### What

`positive?` 用于判断一个实数是否为正数

## 2025/07/14 +文档

### What

`+` 用于计算所有给定数字的和。如果没有参数，则返回加法单位元 0。

## 2025/07/14 -文档

### What

`-` 用于计算所有给定数字的差。当只有一个参数时，返回其加法逆元（相反数）。当有多个参数时，返回其所有参数左结合的差。必须有参数。

## 2025/07/13 integer?文档

### What

`integer?` 用于判断一个对象是否为整数类型（整数）。

## 2025/07/11 rational?文档

### What

`rational?` 用于判断一个对象是否为有理数类型（整数、有理数）。

## 2025/07/11 real?文档

### What

`real?` 用于判断一个对象是否为实数类型（整数、浮点数或有理数）。

## 2025/07/11 complex?文档

### What

`complex?` 用于判断一个对象是否为复数类型（整数、浮点数、有理数或复数）。

## 2025/07/11 number?的文档

### What

`number?` 用于判断一个对象是否为数值类型（整数、浮点数、有理数或复数）。

## 2025/09/18 string->number 文档和测试

### What
添加 `string->number` 的测试用例，并撰写文档，最后按照如何测试这一节运行单元测试。

`string->number` 是 S7 内置的函数，用于将字符串解析为数值。支持解析多种数值格式：
- 整数："123", "-456"
- 浮点数："123.456", "-0.123"  
- 科学计数法："1.23e10", "1.23e-3"
- 有理数："1/2", "-22/7"
- 复数："1+2i", "3.14-2.71i"
- 不同进制：二进制"1010", 八进制"755", 十六进制"FF"

添加了120个测试用例，覆盖基本功能、进制转换、错误处理等场景。

## 2025/07/14 (in)finite?的实现、测试和文档

### What

添加 `infinite?` 和 `finite?` 的实现、测试、文档。