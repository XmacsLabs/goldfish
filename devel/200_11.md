# 200_11: 优化 Claude Code 启动脚本

## 2025/10/21 移除worktree相关代码
### What
1. 如果不在main分支，那么`bin/code`直接提示
2. 如果在main分支，那么`bin/code`直接拉取最新代码
3. 如果`.git/hooks/pre-commit`和`hooks/pre-commit`不一致，那么用后者覆盖前者
4. 使用Python重新实现`bin/code`

## 2025/10/20 启动脚本直接使用Claude

## 2025/08/08
### What
- 重构 bin/code 中的 Claude Code 权限配置
- 将 allowedTools 配置从命令行参数迁移到 .claude/settings.json 文件
- 新增 sed 和 rg 到允许的工具列表
- 优化启动性能，减少7次单独的命令调用

### How
- 创建 `.claude/settings.json` 文件集中管理权限配置
- 修改 `bin/code` 脚本，移除重复的权限配置命令
- 更新 `.gitignore` 移除 `.claude/` 忽略规则，允许版本控制配置

## 2025/08/08
### What
增加对 Windows 系统的支持

### How
- 在 `bin/code` 脚本中添加 Windows 平台检测
- 针对不同平台使用相应的命令和路径

## 2025/08/07
### What
修复不在main分支时，执行`bin/code`会报错的问题。

## 2025/08/06 新增allowTools配置
## 2025/08/06 保留origin这个远程仓库
## 2025/08/06
### What
再次修复Vibe得到的低质量代码:(

## 2025/08/06
### What
每次拉取最新代码

## 2025/08/06
### What
修复Vibe得到的低质量代码:(

## 2025/08/06

### Why
使用git worktree的方法启动Claude Code，避免弄乱当前工作空间。

